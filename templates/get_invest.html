{% extends "get_invest_base.html" %}

{% block portfolio_header %}
<div class="row-fluid">
    <div data-bind="css:'portfolio-header', with: portFolioDetails">
        <p class="portfolio-header-desc" > MY NETWORTH 
        <span data-bind="text: linkName,css: 'portfolio-change pull-right', 
                            click: $root.changePortfolioType"></span>
        </p>
        <p data-bind="with: linkValue">
            <span class="portfolio-header-value" data-bind="text: totalValue"></span>
            <span>&nbsp;</span>
            <span class="portfolio-positive"><strong data-bind="text: totalChange"></strong> </span>
            <span class="portfolio-positive" data-bind="text: changePercent"></span>
            <span> <img data-bind="attr: {
                    src: valueInc ? '/static_files/img/up.gif' : '/static_files/img/down.gif', 
                    'height': '22', 'width': '22'
                }, css: 'img-circle'"></img>
            </span>
        </p>
    </div>
</div>
{% endblock portfolio_header %}

{% block portfolio_max_gainer %}
<div class="span6 portfolio-lower1" data-bind="with: portFolioDetails().linkValue">
    <p data-bind="css: 'portfolio-header-desc'" > MAX GAINER </p>
    <p class="portfolio-lower-company" data-bind="text: maxGainerName"></p>
    <p class="portfolio-lower-value" data-bind="text: maxGainerValue"></p>
    <p>
    <span class="portfolio-lower-positive"><strong data-bind="text: maxGainerChange"></strong></span>
        <span class="portfolio-lower-positive" data-bind="text: maxGainerChangePercent"></span>
        <span> <img data-bind="attr: {
                    src: '/static_files/img/up.gif',
                    height:'20', width:'20'
                }, css: 'img-circle'"></img>
        </span>
    </p>
</div>   
{% endblock portfolio_max_gainer %}

{% block portfolio_max_loser %}
<div class="span6 portfolio-lower2" data-bind="with: portFolioDetails().linkValue">
    <p data-bind="css: 'portfolio-header-desc'" > MAX LOSER </p>
    <p class="portfolio-lower-company" data-bind="text: maxLoserName"></p>
    <p class="portfolio-lower-value" data-bind="text: maxLoserValue"><p>
    <p>
        <span class="portfolio-lower-negative"><strong data-bind="text: maxLoserChange"></strong></span>
        <span class="portfolio-lower-negative" data-bind="text: maxLoserChangePercent"></span>
        <span> <img data-bind="attr: {
                    src: '/static_files/img/down.gif',
                    height:'20', width:'20'
                }, css: 'img-circle'"></img>
        </span>
        <p>
</div>
{% endblock portfolio_max_loser %}

{% block profile_select_div %}
<div>
    <span data-bind="css: 'profile-details-text'"><strong data-bind="text: 'Profile'"></strong></span> 
    <select data-bind="options: availableProfiles, 
	                   optionsText: 'name', value: selectedProfile, 
                       css: 'input-medium' ">
    </select>
    <div class="pull-right inline">
        <span><strong>Refresh</strong></span>
        <select data-bind="options: availableRefreshRates, 
                           optionsText: 'name', value: selectedRefreshRate, 
                           css: 'profile-refresh-text, input-medium' ">
        </select>
    </div>
</div>
{% endblock profile_select_div %}

{% block portfolio_company_details %}
<div data-bind="css: 'collapse', attr: {'id': name1}" style="background: green">
    Testing
</div>
{% endblock portfolio_company_details %}

{% block portfolio_company_details_row %}
<tr class="company-details">
    <td colspan="4"> {{ self.portfolio_company_details() }}</td>
</tr>
{% endblock portfolio_company_details_row %}

{% block portfolio_company_row %}
<tr class="company-name">
    <td>
        <a data-bind="css: 'company-name', text: name1,
            attr: { 'data-toggle':'collapse', 'data-target': link_id}">
        </a>
    </td>
    <td><span data-bind="text: name2"></span></td>
    <td><span data-bind="text: name3"></span></td>
    <td>
        <i data-bind="click: function(data, event) { 
                        $root.transAction(false, data, event)},
                        css: 'icon-remove-sign'"></i>&nbsp;&nbsp;&nbsp;&nbsp;
        <i data-bind="attr: { 
                                'data-toggle':'modal',
                                'data-target':'#tansAddModal'
                        }, css: 'icon-plus-sign'">
        </i>&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
</tr>
{% endblock portfolio_company_row %}

{% block portfolio_trans %}
<div class="trans-table-head-append">
</div>
<div>
    <table class="table trans-table">
        <thead>
            <tr class="trans-table-head" data-bind="foreach: tableHeaders">
                <th><span data-bind="text: $data"></span></th>
            </tr>
        </thead>
        <tbody  data-bind="foreach: availableRows">
            {{ self.portfolio_company_row() }}
            {{ self.portfolio_company_details_row() }}
        </tbody>
    </table>
</div>
<div class="trans-table-tail-append">
</div>
{% endblock portfolio_trans %} 
  
{% block trans_add_modal %}
<div id="tansAddModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
        <h3 id="myModalLabel">Modal header</h3>
    </div>
    <div class="modal-body">
        <p>One fine bod</p>
    </div>
    <div class="modal-footer">
        <button class="btn, modal-close-button" data-dismiss="modal" aria-hidden="true">Close</button>
        <button data-bind="css: 'btn, modal-default-button', 
                        click: function(data, event) { 
                            $root.transAction(true, data, event)
                        }">Save changes
        </button>
    </div>
</div>
{% endblock trans_add_modal %} 
